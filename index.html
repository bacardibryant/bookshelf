<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Javascript - Bookshelf</title>
</head>

<body>
    <div id="container">
        <header>
            <h1>Bookshelf</h1>
            <h4>built with javascript</h4>
        </header>
        <div class="row">
            <div class="col">
                <fieldset id="new-book-fieldset">
                    <legend>New Book</legend>
                    <form>
                        <label for="new-book-title">Title:</label><input type="text" id="new-book-title" />
                        <label for="new-book-author">Author:</label><input type="text" id="new-book-author" />
                        <label for="new-book-numberOfPages">Page count:</label><input type="text" id="new-book-numberOfPages" />
                        <button id="new-book-form-button">Save</button>
                    </form>
                </fieldset>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div id="book-list">
                    <div>
                        <header id="book-title"></header>
                        <section id="book-details"></section>
                        <footer id="book-author"></footer>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="js/app.js"></script>
    <script>
        (function(){
            document.getElementById('new-book-form-button').addEventListener('click', saveNewBook);
        })();

        var bookOne = new Book("Playing to Win", "A.G. Lafley", 260);
        var bookTwo = new Book("Playing to Win", "A.G. Lafley", 260);
        bookDepot.addBook(new Book("Her First Bible","Melody Carlson", 91));

        bookDepot.addBook(bookOne);
        bookDepot.addBook(bookTwo);

        bookDepot.removeBook(bookOne);

        document.getElementById("book-title").innerHTML = bookOne.title;
        document.getElementById("book-author").innerHTML = bookOne.author;
        document.getElementById("book-details").innerHTML = `This book has ${Book.totalPages(bookOne)} pages.`;

        function saveNewBook(){
            let title = document.getElementById('new-book-title').value;
            let author = document.getElementById('new-book-author').value;
            let pages = document.getElementById('new-book-numberOfPages').value;

            bookDepot.addBook(new Book(title,author,pages));
            console.log(`The new book ${title}, has been added to the depot.`);
            console.log(bookDepot);
        }
    </script>
</body>

</html>